<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ููุฑ ุงูุฅุณูุงู</title>
  <style>
    :root { --primary: #0f7b6c; --secondary: #1aa89c; --bg: #f4f7f6; }
    body { margin: 0; font-family: 'Segoe UI', Tahoma, sans-serif; background: var(--bg); color: #333; }
    header { background: linear-gradient(135deg, var(--primary), var(--secondary)); color: white; padding: 25px; text-align: center; }
    nav { display: flex; overflow-x: auto; background: white; position: sticky; top: 0; }
    nav a { padding: 15px; text-decoration: none; color: var(--primary); font-weight: bold; flex: 1; text-align: center; }
    .container { padding: 15px; max-width: 900px; margin: auto; }
    .card { background: white; border-radius: 15px; padding: 20px; margin-bottom: 20px; text-align: center; }
    .btn { padding: 10px 20px; border: none; border-radius: 8px; background: var(--primary); color: white; cursor: pointer; margin: 5px; }
    .btn-alt { background: #555; }
    #count { font-size: 45px; color: var(--primary); font-weight: bold; }
    .quran-container { max-height: 400px; overflow-y: auto; padding: 15px; border-radius: 10px; background: #fffdf5; line-height: 2; }
    select { padding: 10px; width: 100%; border-radius: 8px; margin-bottom: 10px; }
    .prayer-grid { display: grid; grid-template-columns: repeat(3,1fr); gap: 10px; }
    .p-item { background: #f4f7f6; padding: 10px; border-radius: 8px; }
    .p-item b { color: var(--primary); display: block; margin-top: 5px; }
    .azkar-list { list-style: none; padding: 0; text-align: right; }
    .azkar-list li { padding: 10px; border-bottom: 1px solid #eee; }
    footer { text-align: center; padding: 15px; font-size: 14px; color: #777; }
  </style>
</head>

<body>

<header>
  <h1>๐ ููุฑ ุงูุฅุณูุงู</h1>
  <p id="date-display"></p>
</header>

<nav>
  <a href="#tasbih">ุงููุณุจุญุฉ</a>
  <a href="#azkar-section">ุงูุฃุฐูุงุฑ</a>
  <a href="#quran-section">ุงููุฑุขู</a>
  <a href="#prayer-section">ุงูููุงููุช</a>
</nav>

<div class="container">

  <div class="card" id="tasbih">
    <h3 id="zekr-text">ุณุจุญุงู ุงููู</h3>
    <span id="count">0</span>
    <button class="btn" onclick="runTasbih()">ุงุถุบุท ููุชุณุจูุญ</button>
    <button class="btn btn-alt" onclick="resetTasbih()">ุชุตููุฑ</button>
  </div>

  <div class="card" id="azkar-section">
    <h2>โ๏ธ ุฃุฐูุงุฑ ุงูุตุจุงุญ ูุงููุณุงุก</h2>
    <select id="azkar-type" onchange="loadAzkar()">
      <option value="sabah">ุฃุฐูุงุฑ ุงูุตุจุงุญ</option>
      <option value="masaa">ุฃุฐูุงุฑ ุงููุณุงุก</option>
    </select>
    <div class="quran-container" id="azkar-content"></div>
  </div>

  <div class="card" id="quran-section">
    <h2>๐ ุงููุฑุขู ุงููุฑูู</h2>
    <select id="surah-select" onchange="loadSurah(this.value)">
      <option value="">ุงุฎุชุฑ ุงูุณูุฑุฉ...</option>
    </select>
    <button class="btn" onclick="loadRandomAyah()">ุงูุฑุฃ ุขูุฉ ุนุดูุงุฆูุฉ</button>
    <div class="quran-container" id="quran-display"></div>
  </div>

  <div class="card" id="prayer-section">
    <h2>๐ ููุงููุช ุงูุตูุงุฉ</h2>
    <div class="prayer-grid" id="prayer-times"></div>
  </div>

</div>

<footer>
  ุตูุน ูู ูุจู ุดุฑูุฉ <b>FAGM</b> ยฉ
</footer>

<script>
// ุงูุชุณุจูุญ
let tCount = 0, tIndex = 0;
const tWords = ["ุณุจุญุงู ุงููู","ุงูุญูุฏ ููู","ุงููู ุฃูุจุฑ","ูุง ุฅูู ุฅูุง ุงููู"];
function runTasbih(){
  tCount++;
  if(tCount > 33){
    tCount = 1;
    tIndex = (tIndex + 1) % tWords.length;
    document.getElementById("zekr-text").innerText = tWords[tIndex];
  }
  document.getElementById("count").innerText = tCount;
}
function resetTasbih(){ tCount = 0; document.getElementById("count").innerText = 0; }

// ุงููุฑุขู
async function initQuran(){
  const res = await fetch("https://api.alquran.cloud/v1/surah");
  const data = await res.json();
  const s = document.getElementById("surah-select");
  data.data.forEach(x=>{
    let o = document.createElement("option");
    o.value = x.number; o.text = x.name;
    s.add(o);
  });
}

async function loadSurah(n){
  if(!n) return;
  const res = await fetch(`https://api.alquran.cloud/v1/surah/${n}`);
  const data = await res.json();
  document.getElementById("quran-display").innerText =
    data.data.ayahs.map(a=>`${a.text} ๏ดฟ${a.numberInSurah}๏ดพ`).join(" ");
}

async function loadRandomAyah(){
  const n = Math.floor(Math.random()*6236)+1;
  const res = await fetch(`https://api.alquran.cloud/v1/ayah/${n}/ar`);
  const d = await res.json();
  document.getElementById("quran-display").innerHTML = `
    <p style="font-weight:bold;color:var(--primary)">${d.data.text}</p>
    <small>${d.data.surah.name} โ ุขูุฉ ${d.data.numberInSurah}</small>`;
}

// โ ุฃุฐูุงุฑ ุงูุตุจุงุญ ูุงููุณุงุก ูุงููุฉ
const ayatAlKursi = "ุงูููููู ููุง ุฅููููฐูู ุฅููููุง ูููู ุงููุญูููู ุงูููููููููู  ููุง ุชูุฃูุฎูุฐููู ุณูููุฉู ููููุง ูููููู  ููููู ููุง ููู ุงูุณููููุงููุงุชู ููููุง ููู ุงููุฃูุฑูุถู  ููู ุฐูุง ุงูููุฐูู ููุดูููุนู ุนููุฏููู ุฅููููุง ุจูุฅูุฐููููู  ููุนููููู ููุง ุจููููู ุฃูููุฏูููููู ููููุง ุฎููููููููู  ููููุง ููุญููุทูููู ุจูุดูููุกู ููููู ุนููููููู ุฅููููุง ุจูููุง ุดูุงุกู  ููุณูุนู ููุฑูุณูููููู ุงูุณููููุงููุงุชู ููุงููุฃูุฑูุถู  ููููุง ููุฆููุฏููู ุญูููุธูููููุง  ูููููู ุงููุนูููููู ุงููุนูุธูููู";

const azkarData = {
  sabah: [
    "ุฃุตุจุญูุง ูุฃุตุจุญ ุงูููู ููู ูุงูุญูุฏ ููู",
    "ุงูููู ุจู ุฃุตุจุญูุง ูุจู ุฃูุณููุง ูุจู ูุญูุง ูุจู ูููุช ูุฅููู ุงููุตูุฑ",
    "ุฃุนูุฐ ุจุงููู ูู ุงูุดูุทุงู ุงูุฑุฌูู",
    ayatAlKursi,
    "ุงูููู ูุง ุฃุตุจุญ ุจู ูู ูุนูุฉ ุฃู ุจุฃุญุฏ ูู ุฎููู ูููู ูุญุฏู ูุง ุดุฑูู ูู ููู ุงูุญูุฏ ููู ุงูุดูุฑ",
    "ุฑุถูุช ุจุงููู ุฑุจูุง ูุจุงูุฅุณูุงู ุฏูููุง ูุจูุญูุฏ ๏ทบ ูุจููุง",
    "ุณุจุญุงู ุงููู ูุจุญูุฏู (100 ูุฑุฉ)",
    "ุงูููู ุฅูู ุฃุณุฃูู ุงูุนูู ูุงูุนุงููุฉ ูู ุงูุฏููุง ูุงูุขุฎุฑุฉ",
    "ุจุณู ุงููู ุงูุฐู ูุง ูุถุฑ ูุน ุงุณูู ุดูุก (3 ูุฑุงุช)"
  ],
  masaa: [
    "ุฃูุณููุง ูุฃูุณู ุงูููู ููู ูุงูุญูุฏ ููู",
    "ุงูููู ุจู ุฃูุณููุง ูุจู ุฃุตุจุญูุง ูุจู ูุญูุง ูุจู ูููุช ูุฅููู ุงููุตูุฑ",
    "ุฃุนูุฐ ุจุงููู ูู ุงูุดูุทุงู ุงูุฑุฌูู",
    ayatAlKursi,
    "ุงูููู ูุง ุฃูุณ ุจู ูู ูุนูุฉ ุฃู ุจุฃุญุฏ ูู ุฎููู ูููู ูุญุฏู ูุง ุดุฑูู ูู ููู ุงูุญูุฏ ููู ุงูุดูุฑ",
    "ุฑุถูุช ุจุงููู ุฑุจูุง ูุจุงูุฅุณูุงู ุฏูููุง ูุจูุญูุฏ ๏ทบ ูุจููุง",
    "ุณุจุญุงู ุงููู ูุจุญูุฏู (100 ูุฑุฉ)",
    "ุงูููู ุฅูู ุฃุนูุฐ ุจู ูู ุงููู ูุงูุญุฒู",
    "ุจุณู ุงููู ุงูุฐู ูุง ูุถุฑ ูุน ุงุณูู ุดูุก (3 ูุฑุงุช)"
  ]
};

function loadAzkar(){
  const t = document.getElementById("azkar-type").value;
  document.getElementById("azkar-content").innerHTML =
    `<ul class="azkar-list">${azkarData[t].map((z,i)=>`<li>${i+1}. ${z}</li>`).join("")}</ul>`;
}

// โ ููุงููุช ุงูุตูุงุฉ
function getPrayer(){
  fetch("https://api.aladhan.com/v1/timingsByCity?city=Cairo&country=Egypt&method=5")
  .then(r=>r.json())
  .then(d=>{
    const t=d.data.timings;
    document.getElementById("prayer-times").innerHTML=`
      <div class="p-item">ุงููุฌุฑ<b>${t.Fajr}</b></div>
      <div class="p-item">ุงูุธูุฑ<b>${t.Dhuhr}</b></div>
      <div class="p-item">ุงูุนุตุฑ<b>${t.Asr}</b></div>
      <div class="p-item">ุงููุบุฑุจ<b>${t.Maghrib}</b></div>
      <div class="p-item">ุงูุนุดุงุก<b>${t.Isha}</b></div>`;
  });
}

window.onload=()=>{
  initQuran();
  loadAzkar();
  getPrayer();
  document.getElementById("date-display").innerText =
    new Date().toLocaleDateString("ar-EG",{weekday:"long",year:"numeric",month:"long",day:"numeric"});
};
</script>

</body>
</html>